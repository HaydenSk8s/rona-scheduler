<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employee Schedule Planner</title>
    <!-- Week navigation controls -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Password Protection Screen -->
    <div id="password-screen" style="display:flex;position:fixed;top:0;left:0;width:100vw;height:100vh;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);align-items:center;justify-content:center;z-index:9999;">
      <div style="background:#fff;padding:40px;border-radius:16px;box-shadow:0 10px 40px rgba(0,0,0,0.2);text-align:center;max-width:400px;width:90%;">
        <h1 style="margin:0 0 20px 0;color:#333;font-size:1.8rem;">Rona Scheduler</h1>
        <p style="margin:0 0 30px 0;color:#666;font-size:1.1rem;">Enter password to access the employee schedule planner</p>
        <input type="password" id="password-input" placeholder="Enter password" style="width:100%;padding:12px 16px;border:2px solid #e0e0e0;border-radius:8px;font-size:1.1rem;margin-bottom:20px;box-sizing:border-box;" />
        <button id="login-btn" style="width:100%;padding:12px;background:#007aff;color:#fff;border:none;border-radius:8px;font-size:1.1rem;cursor:pointer;font-weight:600;">Access Scheduler</button>
        <div id="password-error" style="color:#b71c1c;margin-top:15px;font-size:0.9rem;display:none;">Incorrect password. Please try again.</div>
      </div>
    </div>

    <div id="main-content" style="display:none;">
    <h1>Employee Schedule Planner</h1>
    <div style="width:90%;margin:0 auto 12px auto;text-align:right;">
      <!-- Removed the topmost save button -->
    </div>
    <div id="print-preview-section" style="width:90%;margin:0 auto 24px auto;text-align:center;">
      <h2 style="font-size:1.3rem;font-weight:600;margin-bottom:16px;">Printable Schedule Preview</h2>
      <div id="print-preview" style="background:#fff;border-radius:14px;box-shadow:0 2px 12px #0001;padding:24px 10px 24px 10px;display:inline-block;min-width:320px;max-width:100%;overflow-x:auto;"></div>
      <button id="print-btn" style="margin-top:18px;background:#007aff;color:#fff;border:none;padding:10px 24px;border-radius:8px;font-size:1rem;cursor:pointer;box-shadow:0 2px 8px #007aff22;">Print Schedule</button>
    </div>
    <div id="department-switcher-row" style="width:90%;margin:0 auto 12px auto;text-align:left;display:flex;align-items:center;gap:10px;justify-content:flex-start;">
      <label for="department-switcher" style="font-weight:600;margin-right:8px;">Department:</label>
      <select id="department-switcher" style="font-size:1em;padding:4px 12px;border-radius:7px;border:1.5px solid #e0e0e0;background:#f7f8fa;">
        <option value="customer_service">Customer Service</option>
        <option value="head_cashier">Head Cashier</option>
        <option value="loadout">Loadout</option>
        <option value="front_end">Front End</option>
      </select>
    </div>
    <div id="week-selector-row" style="width:90%;margin:0 auto 12px auto;text-align:left;display:flex;align-items:center;gap:10px;">
      <button id="prev-week-btn" style="font-size:1.3em;padding:2px 10px;border-radius:7px;border:1.5px solid #e0e0e0;background:#f7f8fa;cursor:pointer;">&#8592;</button>
      <span id="week-range-label" style="font-size:1.13em;font-weight:600;color:#007aff;min-width:220px;text-align:center;display:inline-block;"></span>
      <button id="next-week-btn" style="font-size:1.3em;padding:2px 10px;border-radius:7px;border:1.5px solid #e0e0e0;background:#f7f8fa;cursor:pointer;">&#8594;</button>
      <button id="edit-week-btn" style="margin-left:18px;background:#fff;color:#007a33;border:1.5px solid #007a33;padding:8px 18px;border-radius:8px;font-size:1rem;cursor:pointer;font-weight:600;">Edit Week</button>
      <button id="save-week-btn" style="display:none;margin-left:10px;background:#1ec773;color:#fff;border:none;padding:8px 18px;border-radius:8px;font-size:1rem;cursor:pointer;font-weight:600;">Save Week</button>
      <button id="cancel-edit-btn" style="display:none;margin-left:10px;background:#fff;color:#b71c1c;border:1.5px solid #b71c1c;padding:8px 18px;border-radius:8px;font-size:1rem;cursor:pointer;font-weight:600;">Cancel Edit</button>
    </div>
    <div id="warnings"></div>
    <table id="schedule-table">
        <thead>
            <tr>
                <th>Employee</th>
                <th>Sunday</th>
                <th>Monday</th>
                <th>Tuesday</th>
                <th>Wednesday</th>
                <th>Thursday</th>
                <th>Friday</th>
                <th>Saturday</th>
            </tr>
        </thead>
        <tbody id="schedule-body">
            <!-- Rows will be generated by JS -->
        </tbody>
        <tfoot>
            <tr id="summary-row">
                <th>Totals</th>
                <td colspan="7"></td>
            </tr>
        </tfoot>
    </table>
    <div style="width:90%;margin:24px auto 0 auto;text-align:center;">
      <div id="availability-modal" style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.18);z-index:1000;align-items:center;justify-content:center;">
        <div style="background:#fff;padding:32px 28px 24px 28px;border-radius:16px;box-shadow:0 8px 32px #0002;min-width:320px;max-width:95vw;position:relative;">
          <h2 style="margin-top:0;font-size:1.3rem;">Edit Availability</h2>
          <form id="availability-form">
            <div id="availability-days"></div>
            <div style="margin-top:18px;text-align:right;">
              <button type="button" id="close-availability-btn" style="background:#eee;border:none;padding:8px 18px;border-radius:7px;font-size:1rem;cursor:pointer;margin-right:8px;">Cancel</button>
              <button type="submit" style="background:#007aff;color:#fff;border:none;padding:8px 18px;border-radius:7px;font-size:1rem;cursor:pointer;">Save</button>
            </div>
          </form>
        </div>
      </div>
      <button id="add-employee-btn" style="background:#007aff;color:#fff;border:none;padding:10px 18px;border-radius:8px;font-size:1rem;cursor:pointer;box-shadow:0 2px 8px #007aff22;">+ Add Employee</button>
    </div>
    </div>
    <script src="script.js"></script>
</body>
</html>
